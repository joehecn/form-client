import{_ as V}from"./MainLayout-BzAxt_Si.js";import{d as y,P as x,r as k,a0 as i,m as E,ae as F,j as B,f as s,af as L,ag as C,b as l,e as o,U as M,V as U,p as h,H as z,G as A,ah as I,o as N,_ as R}from"./index-C6CTqLNF.js";const Z={class:"login-container"},$={class:"form-button-wrapper"},q=y({__name:"LoginView",setup(j){const _=x(),f=C(),u=k(),c=i({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]{6,10}$/,message:"6到10个字母数字下划线",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d\W_]{8,}$/,message:"至少8个字符, 必须包含大写字母, 小写字母, 数字",trigger:"blur"}]}),t=i({username:"",password:""}),m=a=>{a&&a.validate(e=>{e&&L(t.username,t.password).then(n=>{n&&(_.setMe(n.data),f.push("/"))})})},p=a=>{a.key==="Enter"&&m(u.value)};return E(()=>{window.addEventListener("keydown",p)}),F(()=>{window.removeEventListener("keydown",p)}),(a,e)=>{const n=h,d=U,g=z,w=M,b=I,v=V;return N(),B(v,null,{default:s(()=>[l("div",Z,[e[5]||(e[5]=l("div",{style:{height:"60px"}},null,-1)),o(b,{style:{width:"400px"}},{default:s(()=>[e[4]||(e[4]=l("h1",{class:"login-title"},"登录阳光表单验证服务系统",-1)),o(w,{ref_key:"ruleFormRef",ref:u,model:t,"status-icon":"",rules:c,"label-width":"60px",class:"demo-ruleForm"},{default:s(()=>[o(d,{label:"用户名",prop:"username"},{default:s(()=>[o(n,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=r=>t.username=r),placeholder:"6到10个字母数字下划线"},null,8,["modelValue"])]),_:1}),o(d,{label:"密码",prop:"password"},{default:s(()=>[o(n,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.password=r),type:"password",placeholder:"至少8个字符, 必须包含大写字母, 小写字母, 数字",autocomplete:"off"},null,8,["modelValue"])]),_:1}),l("div",$,[o(d,null,{default:s(()=>[o(g,{type:"primary",onClick:e[2]||(e[2]=r=>m(u.value))},{default:s(()=>e[3]||(e[3]=[A("登 录")])),_:1})]),_:1})])]),_:1},8,["model","rules"])]),_:1})])]),_:1})}}}),K=R(q,[["__scopeId","data-v-e79c13b2"]]);export{K as default};
